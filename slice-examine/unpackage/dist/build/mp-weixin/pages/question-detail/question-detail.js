(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/question-detail/question-detail"],{"1d54":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticStyle:{width:"100%"}},[i("view",{staticClass:"question-main"},[i("scroll-view",{staticClass:"VerticalNav nav",staticStyle:{height:"100vh"},attrs:{"scroll-into-view":t.intoView,"scroll-y":"","scroll-with-animation":"","scroll-top":t.verticalNavTop}},t._l(t.list,function(e,n){return i("view",{key:n,staticClass:"cu-item",class:n>t.tabCur?"":"text-green cur",staticStyle:{padding:"0"},attrs:{id:"tab"+n,"data-id":n,eventid:"4ca078fa-0-"+n},on:{tap:t.TabSelect}},[0!=n?i("view",{staticClass:"step-up-line"}):t._e(),i("view",{staticClass:"question-step-name"},[t._v("问题")]),i("view",{staticClass:"question-step-icon"},[1==e.type?i("uni-icon",{attrs:{type:"checkbox-filled",size:"20",color:"green",mpcomid:"4ca078fa-0-"+n}}):t._e(),2==e.type?i("uni-icon",{attrs:{type:"circle-filled",size:"20",color:"rgb(251,189,8)",mpcomid:"4ca078fa-1-"+n}}):t._e(),3==e.type?i("uni-icon",{attrs:{type:"clear",size:"20",color:"red",mpcomid:"4ca078fa-2-"+n}}):t._e(),-1==e.type?i("view",{staticClass:"tab-circle"}):t._e()],1),n!=t.list.length-1?i("view",{staticClass:"step-bottom-line"}):t._e()])})),i("view",{staticClass:"question-jindu-top"},[i("swiper",{style:{height:t.windowHeight},attrs:{current:t.current,vertical:"",eventid:"4ca078fa-7"},on:{change:t.TabSelect}},t._l(t.list,function(e,n){return i("block",{key:n},[i("swiper-item",{attrs:{mpcomid:"4ca078fa-12-"+n}},[i("view",{staticClass:"swiper-item"},[i("view",{staticClass:"cu-bar solid-bottom bg-white"},[i("view",{staticClass:"action"},[i("text",{staticClass:"icon-title text-green"}),t._v("Tab-"+t._s(e.name))])]),0==n?i("block",[i("view",{staticClass:"question-tools-main"},[i("uni-segmented-control",{attrs:{current:t.tabIndex,values:t.items,"style-type":"button","active-color":"#333333",eventid:"4ca078fa-1-"+n,mpcomid:"4ca078fa-3-"+n},on:{clickItem:t.onClickItem}})],1),i("swiper",{style:{height:t.windowHeight},attrs:{current:t.tabCurrent,eventid:"4ca078fa-6-"+n},on:{change:t.onClickItem}},[i("swiper-item",{attrs:{"item-id":"0",mpcomid:"4ca078fa-5-"+n}},[i("scroll-view",{staticStyle:{background:"rgb(255,255,255)"},style:{height:t.windowHeight},attrs:{"scroll-y":"true"}},[i("view",{staticClass:"swiper-item"},[i("view",{staticClass:"question-why-top"},[i("view",{staticClass:"question-why-title"},[i("text",[t._v("为什么会发生？")])]),i("view",{staticClass:"question-why-main"},t._l(t.wayList,function(e,a){return i("block",{key:a},[i("view",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"way.show"}]},[i("view",[t._v(t._s(e.id)+"WHY")]),i("view",{staticClass:"question-why-list"},[i("textarea",{staticClass:"why-textarea",attrs:{maxlength:"100","data-id":e.id,eventid:"4ca078fa-2-"+n+"-"+a},on:{input:t.wayInput}}),i("view",{staticClass:"textarea-num"},[i("text",[t._v(t._s(e.text.length)+"/100")])])]),a!=t.wayList.length-1?i("navigator",[i("view",{staticClass:"question-why-bottom",attrs:{"data-id":e.id,eventid:"4ca078fa-3-"+n+"-"+a},on:{click:t.showNext}},[i("uni-icon",{attrs:{type:"arrowdown",size:"20",mpcomid:"4ca078fa-4-"+n+"-"+a}})],1)]):t._e()],1)])}))])])])],1),i("swiper-item",{attrs:{"item-id":"1",mpcomid:"4ca078fa-7-"+n}},[i("scroll-view",{staticStyle:{background:"rgb(255,255,255)"},style:{height:t.windowHeight},attrs:{"scroll-y":"true"}},[i("view",{staticClass:"swiper-item"},t._l(t.arr,function(e,a){return i("tree-item",{key:a,attrs:{arrObj:e,index:a,length:t.arr.length,mpcomid:"4ca078fa-6-"+n+"-"+a}})}))])],1),i("swiper-item",{attrs:{"item-id":"2",mpcomid:"4ca078fa-11-"+n}},[i("scroll-view",{staticStyle:{background:"rgb(255,255,255)"},style:{height:t.windowHeight},attrs:{"scroll-y":"true"}},[i("view",{staticClass:"swiper-item"},[i("view",{staticClass:"question-why-top",class:t.isEsay?"":"check-zhezao"},[i("view",{staticClass:"question-why-title"},[i("text",[t._v("简单问题")])]),t._l(t.esayQuestion,function(e,a){return i("block",{key:a},[i("diamond-tools",{attrs:{dataName:e.name,inputOption:e.inputOption,buttonOption:e.buttonOption,index:a,chooseIndex:e.optionIndex,type:1,eventid:"4ca078fa-4-"+n+"-"+a,mpcomid:"4ca078fa-8-"+n+"-"+a},on:{diamondTochild:t.updateDiamond}})],1)})],2),i("view",{directives:[{name:"show",rawName:"v-show",value:!t.isEsay,expression:"!isEsay"}],staticClass:"question-why-top"},[i("view",{staticClass:"question-why-title"},[i("view",[i("text",[t._v("复杂问题")])]),i("view",{attrs:{eventid:"4ca078fa-5-"+n},on:{click:t.changeClick}},[i("uni-icon",{attrs:{type:"clear",size:"20",mpcomid:"4ca078fa-9-"+n}})],1)]),t._l(t.hardQuestion,function(t,e){return i("block",{key:e},[i("diamond-tools",{attrs:{dataName:t.name,inputOption:t.inputOption,buttonOption:t.buttonOption,index:e,chooseIndex:t.optionIndex,type:2,mpcomid:"4ca078fa-10-"+n+"-"+e}})],1)})],2),i("view",{staticClass:"question-diamond-top"},[i("view",[i("text",[t._v("根本原因")])]),i("view",{staticClass:"diamond-bottom-textarea"},[i("textarea")])])])])],1)],1)],1):t._e()],1)])],1)}))],1)],1)])},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},"302e":function(t,e,i){"use strict";i.r(e);var n=i("1d54"),a=i("da04");for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);i("6ba8");var r=i("2877"),o=Object(r["a"])(a["default"],n["a"],n["b"],!1,null,null,null);e["default"]=o.exports},4093:function(t,e,i){},"6ba8":function(t,e,i){"use strict";var n=i("4093"),a=i.n(n);a.a},"8f42":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(i("1c1f")),a=r(i("1406")),s=r(i("5b88"));function r(t){return t&&t.__esModule?t:{default:t}}var o={components:{treeItem:a.default,diamondTools:s.default},data:function(){return{topCurrent:0,tabCur:0,list:[],verticalNavTop:0,intoView:"tab0",questionListTest:[{tabList:[{name:"紧急遏制",list:0},{name:"分析小组",list:1},{name:"问题描述",list:2}]},{tabList:[{name:"临时措施",list:3},{name:"根本原因",list:4},{name:"永久措施",list:5}]},{tabList:[{name:"紧急遏制",list:0},{name:"分析小组",list:1},{name:"问题描述",list:2}]}],items:["5why","鱼骨图","七颗钻石"],tabIndex:0,tabCurrent:0,chooseIndex:-1,checkCurrent:0,changeCurrent:0,currentIndex:0,doneArray:["是","否","不适用"],isEsay:!0,diamondArray:[{title:"简单问题",questionArray:[{name:"是否遵循正常的工艺",buttonOption:[{name:"是"},{name:"否"},{name:"不适用"}],inputOption:[{name:"说明"}]},{name:"是否使用正确的工具",buttonOption:[{name:"是"},{name:"否"},{name:"不适用"}],inputOption:[{name:"说明"}]},{name:"是否使用正确的零件",buttonOption:[{name:"是"},{name:"否"},{name:"不适用"}],inputOption:[{name:"说明"}]},{name:"是否符合图纸的要求",buttonOption:[{name:"是"},{name:"否"},{name:"不适用"}],inputOption:[{name:"说明"}]}]},{title:"复杂问题",questionArray:[{name:"工艺改变能否解决",buttonOption:[{name:"是"},{name:"否"},{name:"不适用"}],inputOption:[{name:"说明"}]},{name:"是否需要产品更改",buttonOption:[{name:"是"},{name:"否"},{name:"不适用"}],inputOption:[{name:"说明"}]},{name:"长期存在或者非常负责的问题",buttonOption:[{name:"是"},{name:"否"},{name:"不适用"}],inputOption:[{name:"说明"}]}]}],wayId:0,wayList:[{id:1,show:!0,text:""},{id:2,show:!1,text:""},{id:3,show:!1,text:""},{id:4,show:!1,text:""},{id:5,show:!1,text:""}]}},computed:{tabList:function(){return n.default.questionData.tabList},questionArray:function(){return this.isEsay?this.esayQuestion:this.hardQuestion},questionList:function(){var t=n.default.questionData.tabList,e=[],i=[],a=0;for(var s in t){var r={name:t[s].name,list:parseInt(s)};if(i.push(r),a++,3==a){a=0;var o={tabList:i};e.push(o),i=[]}}return e},current:function(){return this.changeCurrent},hardQuestion:function(){return n.default.questionData.hardQuestion},esayQuestion:function(){return n.default.questionData.esayQuestion},arr:function(){return n.default.questionData.arr},windowHeight:function(){var e=0;return t.getSystemInfo({success:function(t){console.log(t),e=t.windowHeight}}),e+"px"}},onLoad:function(t){for(var e=[{}],i=0;i<26;i++)e[i]={},e[i].name=String.fromCharCode(65+i),e[i].id=i,e[i].icon="roundcheckfill",e[i].type=-1;e[0].type=1,e[1].type=2,e[2].type=3,this.list=e,this.listCur=e[0]},methods:{TabSelect:function(t){console.log("TabSelect:",t),"change"==t.type?(this.tabCur=t.detail.current,this.mainCur=t.detail.current,this.verticalNavTop=50*(t.detail.current-1)):(this.changeCurrent=t.currentTarget.dataset.id,this.tabCur=t.currentTarget.dataset.id,this.mainCur=t.currentTarget.dataset.id,this.verticalNavTop=50*(t.currentTarget.dataset.id-1))},updateDiamond:function(t){if(1==t){var e=this.esayQuestion,i=!1;for(var n in e)1!=e[n].optionIndex&&-1!=e[n].optionIndex||(i=!0);this.isEsay=i}},changeClick:function(t){this.isEsay=!0},changeToolsTab:function(t){console.log(t.detail.current),this.tabIndex=t.detail.current},onClickItem:function(t){"change"==t.type?this.tabIndex=t.detail.current:this.tabCurrent=t},recordCurrent:function(t){this.changeCurrent=t.detail.current},nextChange:function(t){this.currentIndex=this.currentIndex+1},changeChoose:function(t){this.chooseIndex=t.currentTarget.dataset.index},wayInput:function(t){var e=this,i=t.currentTarget.dataset.id,n=t.detail.value;e.wayList.forEach(function(t,e){i==t.id&&(t.text=n)})},showNext:function(t){var e=this,i=t.currentTarget.dataset.id;e.wayList.forEach(function(t,e){t.id==i+1&&(t.show=!t.show),t.id>i+1&&t.show&&(t.show=!1)})},clickChange:function(t){console.log("e.currentTarget.dataset.type",t.currentTarget.dataset.type);var e=t.currentTarget.dataset.current;this.currentIndex=e,this.checkCurrent=t.currentTarget.dataset.index;var i=parseInt(t.currentTarget.dataset.type);console.log("this.currentIndex:",this.currentIndex);var n=i>0?e:e+1;console.log("index:",n),n%3==0&&(this.checkCurrent=this.checkCurrent+i,console.log("this.checkCurrent:",this.checkCurrent)),this.changeCurrent=this.checkCurrent},changSwiper:function(t){this.currentIndex=t.currentTarget.dataset.current,this.changeCurrent=t.currentTarget.dataset.index,console.log("currentIndex:",this.currentIndex),console.log("current:",this.changeCurrent)}}};e.default=o}).call(this,i("543d")["default"])},da04:function(t,e,i){"use strict";i.r(e);var n=i("8f42"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},f067:function(t,e,i){"use strict";i("535a");var n=s(i("b0ce")),a=s(i("302e"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(a.default))}},[["f067","common/runtime","common/vendor"]]]);