<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.test.dao.YsspArtistMapper" >
  <resultMap id="BaseResultMap" type="com.test.pojo.YsspArtist" >
    <id column="artist_id" property="artistId" jdbcType="BIGINT" />
    <result column="artist_artwork_num" property="artistArtworkNum" jdbcType="BIGINT" />
    <result column="artist_funs_num" property="artistFunsNum" jdbcType="BIGINT" />
    <result column="artist_synopsis" property="artistSynopsis" jdbcType="VARCHAR" />
    <result column="artist_identification" property="artistIdentification" jdbcType="TINYINT" />
    <result column="artist_status" property="artistStatus" jdbcType="TINYINT" />
    <result column="artist_created_time" property="artistCreatedTime" jdbcType="VARCHAR" />
    <result column="artist_job_identification" property="artistJobIdentification" jdbcType="TINYINT" />
    <result column="artist_update_time" property="artistUpdateTime" jdbcType="VARCHAR"/>
  </resultMap>
  
  
  <resultMap id="ResultMapWithBLOBs" type="com.test.pojo.YsspArtistWithBLOBs"
		extends="BaseResultMap">
		<result column="headPortraitUrl" property="headPortraitUrl"
			jdbcType="LONGVARCHAR" />
		<result column="artistRealName" property="artistRealName"
			jdbcType="LONGVARCHAR" />
		<result column="artWxName" property="artWxName"
			jdbcType="LONGVARCHAR" />
		<result column="followId" property="followId"
			jdbcType="BIGINT"/>
			
							
				
		<association property="ysspUserRealName" javaType="com.test.pojo.YsspUserRealName">
		<result column="real_name_userId" property="realNameUserid" jdbcType="BIGINT" />
		<result column="real_name_username" property="realNameUsername"
			jdbcType="VARCHAR" />
		<result column="real_name_DocumentType" property="realNameDocumenttype"
			jdbcType="TINYINT" />
		<result column="real_name_Document_num" property="realNameDocumentNum"
			jdbcType="VARCHAR" />
		<result column="real_name_Document_tel" property="realNameDocumentTel"
			jdbcType="VARCHAR" />
		<result column="real_name_email" property="realNameEmail"
			jdbcType="VARCHAR" />
		<result column="real_name_Country" property="realNameCountry"
			jdbcType="VARCHAR" />
		<result column="real_name_province" property="realNameProvince"
			jdbcType="VARCHAR" />
		<result column="real_name_city" property="realNameCity"
			jdbcType="VARCHAR" />
		<result column="real_name_createTime" property="realNameCreatetime"
			jdbcType="VARCHAR" />
		<result column="real_name_updateTime" property="realNameUpdatetime"
			jdbcType="VARCHAR" />
		<result column="real_name_status" property="realNameStatus"
			jdbcType="TINYINT" />
		<result column="real_name_remark" property="realNameRemark"
			jdbcType="VARCHAR" />
		<result column="Document_front" property="documentFront"
			jdbcType="LONGVARCHAR" />
		<result column="Document_Back" property="documentBack"
			jdbcType="LONGVARCHAR" />
	</association>
			
			
				<collection property="artWorks" ofType="com.test.pojo.YsspArtworkWithBLOBs" column="artist_id">
					<id column="artwork_id" property="artworkId" jdbcType="BIGINT" />
					<result column="artwork_name" property="artworkName" jdbcType="VARCHAR" />
					<result column="artwork_authorId" property="artworkAuthorid"
						jdbcType="BIGINT" />
					<result column="artwork_type" property="artworkType" jdbcType="TINYINT" />
					<result column="artwork_width" property="artworkWidth"
						jdbcType="VARCHAR" />
					<result column="artwork_height" property="artworkHeight"
						jdbcType="VARCHAR" />
					<result column="artwork_weigth" property="artworkWeigth"
						jdbcType="VARCHAR" />
					<result column="artwork_year" property="artworkYear" jdbcType="VARCHAR" />
					<result column="artwork_Label" property="artworkLabel"
						jdbcType="VARCHAR" />
					<result column="artwork_examine_status" property="artworkExamineStatus"
						jdbcType="TINYINT" />
					<result column="artwork_status" property="artworkStatus"
						jdbcType="TINYINT" />
					<result column="artwork_createTime" property="artworkCreatetime"
						jdbcType="VARCHAR" />
					<result column="artwork_updateTime" property="artworkUpdatetime"
						jdbcType="VARCHAR" />
					<result column="artwork_Auditor" property="artworkAuditor"
						jdbcType="BIGINT" />
					<result column="artwork_browse_Number" property="artworkBrowseNumber"
						jdbcType="BIGINT" />
					<result column="artwork_comment_Number" property="artworkCommentNumber"
						jdbcType="BIGINT" />
					<result column="artwork_likes_Number" property="artworkLikesNumber"
						jdbcType="BIGINT" />
					<result column="artwork_share_Number" property="artworkShareNumber"
						jdbcType="BIGINT" />
					<result column="artwork_remark" property="artworkRemark"
						jdbcType="VARCHAR" />
							<result column="artwork_introduce" property="artworkIntroduce"
			jdbcType="LONGVARCHAR" />
		<result column="artwork_imgs" property="artworkImgs" jdbcType="LONGVARCHAR" />
			<result column="follow_id" property="followId" jdbcType="BIGINT" />
				</collection>

		
  </resultMap>
  

     <resultMap id="YsspArtistAllBelongs" type="com.test.pojo.YsspArtistAllBelongs" extends="BaseResultMap">
   	<result column="follow_id" property="followId"
			jdbcType="BIGINT" />
  	<association property="qyUserIntegralView" javaType="com.test.pojo.QyUserIntegralView">
		<result column="ID" property="id" jdbcType="BIGINT" />
		<result column="userID" property="userid" jdbcType="VARCHAR" />
		<result column="username" property="username" jdbcType="VARCHAR" />
		<result column="openID" property="openid" jdbcType="VARCHAR" />
		<result column="wxName" property="wxname" jdbcType="VARCHAR" />
		<result column="Head_portrait_url" property="headPortraitUrl"
			jdbcType="VARCHAR" />
		<result column="telephone" property="telephone" jdbcType="VARCHAR" />
		<result column="email" property="email" jdbcType="VARCHAR" />
		<result column="password" property="password" jdbcType="VARCHAR" />
		<result column="sex" property="sex" jdbcType="VARCHAR" />
		<result column="birthday" property="birthday" jdbcType="DATE" />
		<result column="IDCard" property="idcard" jdbcType="VARCHAR" />
		<result column="CreateTime" property="createtime" jdbcType="TIMESTAMP" />
		<result column="UpdateTime" property="updatetime" jdbcType="TIMESTAMP" />
		<result column="user_vip_level" property="userVipLevel"
			jdbcType="VARCHAR" />
		<result column="user_source" property="userSource" jdbcType="VARCHAR" />
		<result column="user_address" property="userAddress" jdbcType="VARCHAR" />
		<result column="user_father_name" property="userFatherName"
			jdbcType="VARCHAR" />
		<result column="user_father_id" property="userFatherId"
			jdbcType="BIGINT" />
		<result column="user_remark" property="userRemark" jdbcType="LONGVARCHAR" />
		<result column="member_integral" property="memberIntegral"
			jdbcType="INTEGER" />
		<result column="member_accumulative_integral" property="memberAccumulativeIntegral"
			jdbcType="BIGINT" />
		<result column="member_accumulative_money" property="memberAccumulativeMoney"
			jdbcType="BIGINT" />
		<result column="remark" property="remark" jdbcType="VARCHAR" />
  	</association>
  	
  	<association property="ysspFollow" javaType="com.test.pojo.YsspFollow">
    <result column="follow_id" property="followId" jdbcType="BIGINT" />
    <result column="follow_to_people" property="followToPeople" jdbcType="BIGINT" />
    <result column="follow_concerned_people" property="followConcernedPeople" jdbcType="BIGINT" />
    <result column="follow_status" property="followStatus" jdbcType="TINYINT" />
    <result column="follow_created_time" property="followCreatedTime" jdbcType="VARCHAR" />
  	</association>
  	
  	<association property="ysspUserRealName" javaType="com.test.pojo.YsspUserRealName">
		<result column="real_name_userId" property="realNameUserid" jdbcType="BIGINT" />
		<result column="real_name_username" property="realNameUsername"
			jdbcType="VARCHAR" />
		<result column="real_name_DocumentType" property="realNameDocumenttype"
			jdbcType="TINYINT" />
		<result column="real_name_Document_num" property="realNameDocumentNum"
			jdbcType="VARCHAR" />
		<result column="real_name_Document_tel" property="realNameDocumentTel"
			jdbcType="VARCHAR" />
		<result column="real_name_email" property="realNameEmail"
			jdbcType="VARCHAR" />
		<result column="real_name_Country" property="realNameCountry"
			jdbcType="VARCHAR" />
		<result column="real_name_province" property="realNameProvince"
			jdbcType="VARCHAR" />
		<result column="real_name_city" property="realNameCity"
			jdbcType="VARCHAR" />
		<result column="real_name_createTime" property="realNameCreatetime"
			jdbcType="VARCHAR" />
		<result column="real_name_updateTime" property="realNameUpdatetime"
			jdbcType="VARCHAR" />
		<result column="real_name_status" property="realNameStatus"
			jdbcType="TINYINT" />
		<result column="real_name_remark" property="realNameRemark"
			jdbcType="VARCHAR" />
		<result column="Document_front" property="documentFront"
			jdbcType="LONGVARCHAR" />
		<result column="Document_Back" property="documentBack"
			jdbcType="LONGVARCHAR" />
  	</association>
  	<collection property="artWorks" ofType="com.test.pojo.YsspArtworkWithBLOBs" column="artist_id">
					<id column="artwork_id" property="artworkId" jdbcType="BIGINT" />
					<result column="artwork_name" property="artworkName" jdbcType="VARCHAR" />
					<result column="artwork_authorId" property="artworkAuthorid"
						jdbcType="BIGINT" />
					<result column="artwork_type" property="artworkType" jdbcType="TINYINT" />
					<result column="artwork_width" property="artworkWidth"
						jdbcType="VARCHAR" />
					<result column="artwork_height" property="artworkHeight"
						jdbcType="VARCHAR" />
					<result column="artwork_weigth" property="artworkWeigth"
						jdbcType="VARCHAR" />
					<result column="artwork_year" property="artworkYear" jdbcType="VARCHAR" />
					<result column="artwork_Label" property="artworkLabel"
						jdbcType="VARCHAR" />
					<result column="artwork_examine_status" property="artworkExamineStatus"
						jdbcType="TINYINT" />
					<result column="artwork_status" property="artworkStatus"
						jdbcType="TINYINT" />
					<result column="artwork_createTime" property="artworkCreatetime"
						jdbcType="VARCHAR" />
					<result column="artwork_updateTime" property="artworkUpdatetime"
						jdbcType="VARCHAR" />
					<result column="artwork_Auditor" property="artworkAuditor"
						jdbcType="BIGINT" />
					<result column="artwork_browse_Number" property="artworkBrowseNumber"
						jdbcType="BIGINT" />
					<result column="artwork_comment_Number" property="artworkCommentNumber"
						jdbcType="BIGINT" />
					<result column="artwork_likes_Number" property="artworkLikesNumber"
						jdbcType="BIGINT" />
					<result column="artwork_share_Number" property="artworkShareNumber"
						jdbcType="BIGINT" />
					<result column="artwork_remark" property="artworkRemark"
						jdbcType="VARCHAR" />
							<result column="artwork_introduce" property="artworkIntroduce"
			jdbcType="LONGVARCHAR" />
		<result column="artwork_imgs" property="artworkImgs" jdbcType="LONGVARCHAR" />
			<result column="follow_id" property="followId" jdbcType="BIGINT" />
	</collection>
  </resultMap>
  

  <sql id="Example_Where_Clause" >
    <where >
      <foreach collection="oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause" >
    <where >
      <foreach collection="example.oredCriteria" item="criteria" separator="or" >
        <if test="criteria.valid" >
          <trim prefix="(" suffix=")" prefixOverrides="and" >
            <foreach collection="criteria.criteria" item="criterion" >
              <choose >
                <when test="criterion.noValue" >
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue" >
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue" >
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue" >
                  and ${criterion.condition}
                  <foreach collection="criterion.value" item="listItem" open="(" close=")" separator="," >
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List" >
    artist_id, artist_artwork_num, artist_funs_num, artist_synopsis, artist_identification, 
    artist_status, artist_created_time, artist_job_identification
  </sql>
  <select id="selectByExample" resultMap="BaseResultMap" parameterType="com.test.pojo.YsspArtistExample" >
    select
    <if test="distinct" >
      distinct
    </if>
    <include refid="Base_Column_List" />
    from yssp_artist
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null" >
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    select 
    <include refid="Base_Column_List" />
    from yssp_artist
    where artist_id = #{artistId,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    delete from yssp_artist
    where artist_id = #{artistId,jdbcType=BIGINT}
  </delete>
  <delete id="deleteByExample" parameterType="com.test.pojo.YsspArtistExample" >
    delete from yssp_artist
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.test.pojo.YsspArtist" >
    insert into yssp_artist (artist_id, artist_artwork_num, artist_funs_num, 
      artist_synopsis, artist_identification, artist_status, 
      artist_created_time, artist_job_identification
      )
    values (#{artistId,jdbcType=BIGINT}, #{artistArtworkNum,jdbcType=BIGINT}, #{artistFunsNum,jdbcType=BIGINT}, 
      #{artistSynopsis,jdbcType=VARCHAR}, #{artistIdentification,jdbcType=TINYINT}, #{artistStatus,jdbcType=TINYINT}, 
      #{artistCreatedTime,jdbcType=VARCHAR}, #{artistJobIdentification,jdbcType=TINYINT}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.test.pojo.YsspArtist" >
    insert into yssp_artist
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="artistId != null" >
        artist_id,
      </if>
      <if test="artistArtworkNum != null" >
        artist_artwork_num,
      </if>
      <if test="artistFunsNum != null" >
        artist_funs_num,
      </if>
      <if test="artistSynopsis != null" >
        artist_synopsis,
      </if>
      <if test="artistIdentification != null" >
        artist_identification,
      </if>
      <if test="artistStatus != null" >
        artist_status,
      </if>
      <if test="artistCreatedTime != null" >
        artist_created_time,
      </if>
      <if test="artistJobIdentification != null" >
        artist_job_identification,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="artistId != null" >
        #{artistId,jdbcType=BIGINT},
      </if>
      <if test="artistArtworkNum != null" >
        #{artistArtworkNum,jdbcType=BIGINT},
      </if>
      <if test="artistFunsNum != null" >
        #{artistFunsNum,jdbcType=BIGINT},
      </if>
      <if test="artistSynopsis != null" >
        #{artistSynopsis,jdbcType=VARCHAR},
      </if>
      <if test="artistIdentification != null" >
        #{artistIdentification,jdbcType=TINYINT},
      </if>
      <if test="artistStatus != null" >
        #{artistStatus,jdbcType=TINYINT},
      </if>
      <if test="artistCreatedTime != null" >
        #{artistCreatedTime,jdbcType=VARCHAR},
      </if>
      <if test="artistJobIdentification != null" >
        #{artistJobIdentification,jdbcType=TINYINT},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.test.pojo.YsspArtistExample" resultType="java.lang.Integer" >
    select count(*) from yssp_artist
    <if test="_parameter != null" >
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map" >
    update yssp_artist
    <set >
      <if test="record.artistId != null" >
        artist_id = #{record.artistId,jdbcType=BIGINT},
      </if>
      <if test="record.artistArtworkNum != null" >
        artist_artwork_num = #{record.artistArtworkNum,jdbcType=BIGINT},
      </if>
      <if test="record.artistFunsNum != null" >
        artist_funs_num = #{record.artistFunsNum,jdbcType=BIGINT},
      </if>
      <if test="record.artistSynopsis != null" >
        artist_synopsis = #{record.artistSynopsis,jdbcType=VARCHAR},
      </if>
      <if test="record.artistIdentification != null" >
        artist_identification = #{record.artistIdentification,jdbcType=TINYINT},
      </if>
      <if test="record.artistStatus != null" >
        artist_status = #{record.artistStatus,jdbcType=TINYINT},
      </if>
      <if test="record.artistCreatedTime != null" >
        artist_created_time = #{record.artistCreatedTime,jdbcType=VARCHAR},
      </if>
      <if test="record.artistJobIdentification != null" >
        artist_job_identification = #{record.artistJobIdentification,jdbcType=TINYINT},
      </if>
    </set>
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map" >
    update yssp_artist
    set artist_id = #{record.artistId,jdbcType=BIGINT},
      artist_artwork_num = #{record.artistArtworkNum,jdbcType=BIGINT},
      artist_funs_num = #{record.artistFunsNum,jdbcType=BIGINT},
      artist_synopsis = #{record.artistSynopsis,jdbcType=VARCHAR},
      artist_identification = #{record.artistIdentification,jdbcType=TINYINT},
      artist_status = #{record.artistStatus,jdbcType=TINYINT},
      artist_created_time = #{record.artistCreatedTime,jdbcType=VARCHAR},
      artist_job_identification = #{record.artistJobIdentification,jdbcType=TINYINT}
    <if test="_parameter != null" >
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.test.pojo.YsspArtist" >
    update yssp_artist
    <set >
      <if test="artistArtworkNum != null" >
        artist_artwork_num = #{artistArtworkNum,jdbcType=BIGINT},
      </if>
      <if test="artistFunsNum != null" >
        artist_funs_num = #{artistFunsNum,jdbcType=BIGINT},
      </if>
      <if test="artistSynopsis != null" >
        artist_synopsis = #{artistSynopsis,jdbcType=VARCHAR},
      </if>
      <if test="artistIdentification != null" >
        artist_identification = #{artistIdentification,jdbcType=TINYINT},
      </if>
      <if test="artistStatus != null" >
        artist_status = #{artistStatus,jdbcType=TINYINT},
      </if>
      <if test="artistCreatedTime != null" >
        artist_created_time = #{artistCreatedTime,jdbcType=VARCHAR},
      </if>
      <if test="artistJobIdentification != null" >
        artist_job_identification = #{artistJobIdentification,jdbcType=TINYINT},
      </if>
    </set>
    where artist_id = #{artistId,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.test.pojo.YsspArtist" >
    update yssp_artist
    set artist_artwork_num = #{artistArtworkNum,jdbcType=BIGINT},
      artist_funs_num = #{artistFunsNum,jdbcType=BIGINT},
      artist_synopsis = #{artistSynopsis,jdbcType=VARCHAR},
      artist_identification = #{artistIdentification,jdbcType=TINYINT},
      artist_status = #{artistStatus,jdbcType=TINYINT},
      artist_created_time = #{artistCreatedTime,jdbcType=VARCHAR},
      artist_job_identification = #{artistJobIdentification,jdbcType=TINYINT}
    where artist_id = #{artistId,jdbcType=BIGINT}
  </update>
  
   
  <select id="selectAllArtist" resultMap="ResultMapWithBLOBs">
	  	select 
	  	ya.*,
		yurn.real_name_username as artistRealName,
		qu.Head_portrait_url as headPortraitUrl,
		qu.wxName AS artWxName,
		yaw.*
		from
		yssp_artist ya
		INNER JOIN yssp_user_real_name yurn ON ya.artist_id =yurn.real_name_userId AND real_name_status =1
		INNER JOIN qy_user_integral_view qu ON qu.ID =ya.artist_id 
		INNER JOIN yssp_artwork yaw ON ya.artist_id =yaw.artwork_authorId AND artwork_status =1 AND artwork_examine_status =1
		ORDER BY
		ya.artist_created_time desc
  </select>
  
  
    <!-- 查询艺术新品图片,查询最后一个时间 -->
	<select id="selectNewArtImg" resultMap="ResultMapWithBLOBs">
		select
		ya.*,
		yurn.real_name_username as artistRealName,
		qu.Head_portrait_url as
		headPortraitUrl,
		qu.wxName AS artWxName,
		yaw.*,yf.follow_id
		from
		yssp_artist ya
		INNER
		JOIN yssp_user_real_name yurn ON ya.artist_id =yurn.real_name_userId
		AND yurn.real_name_status =1
		INNER JOIN qy_user_integral_view qu ON qu.ID
		=ya.artist_id
		INNER JOIN yssp_artwork yaw ON ya.artist_id =yaw.artwork_authorId AND
		yaw.artwork_status =1 AND yaw.artwork_examine_status =1
		LEFT JOIN yssp_follow yf ON yaw.artwork_authorId =yf.follow_concerned_people AND yf.follow_to_people=#{userId}
		ORDER BY
		yaw.artwork_updateTime DESC
		limit 1
	</select>
  
  <select id="selectAllArtistWithFollow" resultMap="ResultMapWithBLOBs">
  	  	select 
	  	ya.*,
		yurn.real_name_username as artistRealName,
		qu.Head_portrait_url as headPortraitUrl,
		qu.wxName AS artWxName,
		yaw.*,
		yf.follow_id AS followId,
		yurn.*
		from
		yssp_artist ya
		INNER JOIN yssp_user_real_name yurn ON ya.artist_id =yurn.real_name_userId AND real_name_status =1
		INNER JOIN qy_user_integral_view qu ON qu.ID =ya.artist_id 
		<if test="artName != null and artName !=''" >
	        and qu.wxName like '%${artName}%'
      	</if>
		INNER JOIN yssp_artwork yaw ON ya.artist_id =yaw.artwork_authorId AND artwork_status =1 AND artwork_examine_status =1
		LEFT JOIN yssp_follow yf ON ya.artist_id =yf.follow_concerned_people AND yf.follow_to_people =#{userId} 
		ORDER BY
		ya.artist_created_time desc
  </select>
  
    
	  <select id="queryArtCa" resultMap="YsspArtistAllBelongs">
			select 
			a.*,
			w.*,
			u.*,
			r.*,
			f.follow_id
			from 
			yssp_artist a 
			INNER JOIN yssp_artwork w ON a.artist_id = w.artwork_authorId and a.artist_status = 1 and artwork_examine_status =1
			INNER JOIN qy_user u ON a.artist_id = u.ID 
			INNER JOIN yssp_user_real_name r ON r.real_name_userId = a.artist_id 
			LEFT JOIN yssp_follow f ON f.follow_to_people=#{userId} and a.artist_id = f.follow_concerned_people 
			ORDER BY a.artist_created_time DESC
	  </select>
	
	<select id="selectArtistByAuthorId" resultMap="ResultMapWithBLOBs">
		select 
	  	ya.*,
		yurn.real_name_username as artistRealName,
		qu.Head_portrait_url as headPortraitUrl,
		qu.wxName AS artWxName,
		yaw.*,
		yf.follow_id AS followId
		from
		yssp_artist ya
		INNER JOIN yssp_user_real_name yurn ON ya.artist_id =yurn.real_name_userId AND real_name_status =1
		INNER JOIN qy_user_integral_view qu ON qu.ID =ya.artist_id 
		INNER JOIN yssp_artwork yaw ON ya.artist_id =yaw.artwork_authorId AND artwork_status =1 AND artwork_examine_status =1
		LEFT JOIN yssp_follow yf ON ya.artist_id =yf.follow_concerned_people AND yf.follow_to_people =#{userId}
		WHERE 
			artist_id =#{authorId}
	</select>
</mapper>